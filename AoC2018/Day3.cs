using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading.Tasks;

namespace AoC2018
{
    class Day3
    {
        public void Day3Task1()
        {
            string origInput = "871,327: 16x20;676,717: 27x26;245,818: 19x21;89,306: 22x11;451,712: 20x11;322,299: 24x29;161,304: 10x29;746,459: 19x25;720,21: 19x29;803,435: 22x20;437,394: 13x29;654,445: 22x25;723,721: 3x10;643,575: 13x28;706,265: 16x18;670,661: 21x21;168,664: 26x15;4,461: 19x29;771,73: 20x29;730,864: 24x12;373,371: 19x27;666,803: 23x17;944,277: 28x12;579,563: 25x13;318,469: 26x16;711,739: 29x19;80,902: 22x13;799,133: 11x25;783,235: 28x15;976,309: 14x23;154,301: 19x28;287,729: 15x26;145,39: 18x29;23,699: 21x18;320,199: 25x11;181,956: 18x27;969,84: 16x11;886,933: 23x16;155,76: 14x22;970,303: 17x14;929,942: 13x12;514,723: 28x11;97,725: 27x10;434,511: 22x23;235,150: 14x17;287,946: 18x18;554,504: 20x13;462,925: 21x10;322,311: 26x17;916,849: 17x13;14,740: 18x13;563,754: 20x18;832,184: 19x14;605,771: 20x25;945,191: 16x29;767,306: 23x11;308,299: 18x20;608,791: 10x27;962,408: 19x28;400,619: 21x12;648,908: 29x29;728,583: 22x19;838,488: 10x10;292,879: 25x20;372,155: 22x11;978,60: 16x25;329,578: 29x15;590,207: 19x26;694,268: 13x21;552,924: 19x18;525,96: 24x26;912,786: 10x25;177,43: 13x12;575,731: 27x19;470,713: 24x25;742,318: 18x26;509,560: 19x11;641,596: 28x25;862,935: 14x16;639,37: 16x24;162,900: 14x23;512,99: 25x17;572,413: 25x27;890,910: 26x29;869,418: 22x11;519,691: 29x28;138,646: 29x29;407,18: 29x17;185,755: 18x23;382,156: 16x13;140,469: 26x16;718,13: 27x12;711,785: 11x14;730,792: 25x13;0,40: 22x15;264,228: 20x24;861,256: 12x13;175,169: 20x15;725,583: 26x13;389,688: 26x18;593,790: 11x15;171,458: 28x21;531,355: 23x28;87,260: 20x15;79,114: 23x21;58,729: 12x13;242,599: 27x10;537,454: 13x25;201,508: 24x21;243,577: 16x19;402,606: 14x26;796,874: 29x11;726,388: 24x15;721,590: 18x24;243,147: 18x28;347,23: 21x21;666,432: 22x12;363,782: 24x21;577,763: 21x20;264,117: 16x23;23,547: 12x27;199,836: 20x22;892,901: 11x19;747,429: 20x23;204,605: 25x16;172,803: 15x11;195,784: 21x13;204,819: 24x25;619,582: 4x16;885,672: 12x18;186,761: 20x17;259,820: 26x20;226,21: 18x29;973,244: 24x22;884,704: 29x12;224,559: 25x24;599,566: 28x10;600,62: 20x23;34,526: 14x17;569,18: 15x20;70,212: 26x20;574,122: 27x22;789,610: 20x24;934,649: 25x14;862,658: 18x13;660,573: 3x5;793,801: 24x23;848,108: 14x22;278,124: 12x24;276,936: 19x10;946,399: 12x25;968,954: 29x17;188,832: 18x15;866,684: 27x21;297,332: 19x10;581,788: 15x17;744,168: 23x18;279,353: 29x16;388,327: 15x12;100,419: 13x15;114,825: 29x13;558,228: 22x10;350,917: 17x20;624,956: 29x12;702,752: 20x16;908,54: 16x25;110,905: 20x22;46,603: 23x18;396,211: 13x27;188,47: 25x25;411,958: 10x13;705,12: 16x23;876,778: 12x16;784,818: 11x23;298,266: 17x10;958,195: 16x23;411,779: 17x23;442,307: 5x15;320,514: 29x17;330,320: 21x16;702,11: 22x23;363,285: 26x21;357,148: 26x18;640,578: 13x28;769,511: 21x11;958,180: 15x28;401,309: 13x19;163,771: 25x25;537,364: 23x13;747,456: 23x10;907,462: 12x16;200,239: 19x27;324,86: 12x19;644,181: 15x17;917,910: 10x25;61,710: 17x29;552,276: 16x21;714,559: 23x22;360,797: 26x13;790,96: 13x23;231,395: 28x24;974,249: 10x16;162,828: 15x29;410,668: 29x26;13,565: 19x26;761,908: 20x20;10,667: 15x21;956,735: 22x27;49,964: 28x28;957,46: 24x20;757,739: 11x21;429,584: 13x20;882,968: 17x22;22,307: 22x19;113,251: 13x24;335,3: 10x27;778,964: 13x20;886,205: 19x29;312,844: 10x29;173,801: 10x20;192,784: 17x13;818,393: 18x12;638,331: 23x19;723,970: 14x29;908,911: 19x19;870,372: 11x15;659,860: 5x17;572,112: 25x21;911,686: 18x16;356,730: 14x11;682,122: 28x22;202,314: 13x29;38,345: 10x11;530,954: 28x29;865,933: 28x28;79,389: 16x15;576,734: 17x11;497,394: 17x14;196,595: 16x18;470,669: 12x18;303,641: 29x15;157,546: 27x27;484,663: 20x23;348,242: 20x21;214,38: 23x23;761,280: 13x17;508,185: 12x16;35,682: 18x23;783,489: 19x27;44,117: 13x10;161,888: 17x28;64,726: 12x12;645,600: 24x15;380,481: 24x23;714,577: 15x24;966,107: 28x20;687,650: 13x12;253,179: 25x18;53,712: 29x17;133,545: 20x29;591,788: 18x27;534,531: 10x24;298,562: 27x13;920,933: 25x10;201,231: 13x21;108,467: 23x18;185,387: 26x20;184,840: 20x15;419,579: 23x15;29,317: 25x26;251,52: 19x16;802,179: 29x18;806,942: 21x11;106,738: 25x20;585,436: 26x23;130,547: 18x11;730,154: 18x24;413,947: 10x20;264,750: 27x21;581,237: 3x9;725,300: 24x10;295,93: 23x24;610,761: 17x19;425,402: 14x14;415,817: 17x20;840,294: 12x17;51,811: 26x11;519,950: 12x25;123,771: 24x29;957,490: 11x17;73,787: 15x28;483,820: 11x18;634,665: 14x17;141,553: 16x17;512,685: 15x25;648,741: 27x20;942,537: 12x14;946,659: 26x13;239,537: 20x24;143,504: 13x20;348,954: 26x12;309,110: 23x11;896,578: 29x13;678,687: 20x26;598,720: 12x28;893,418: 10x28;651,378: 24x26;495,342: 24x10;455,80: 18x22;668,87: 15x26;24,60: 19x22;645,728: 15x12;80,681: 27x22;533,859: 11x23;66,836: 16x15;282,606: 23x28;521,655: 14x18;924,546: 14x26;739,770: 29x10;37,78: 23x10;715,122: 26x10;11,583: 15x19;596,92: 17x27;893,211: 28x12;485,395: 11x23;960,283: 26x18;290,446: 12x16;700,764: 18x10;41,328: 17x10;716,169: 13x11;357,806: 21x18;736,20: 12x19;903,918: 12x11;27,527: 20x21;876,129: 14x11;829,561: 28x15;189,133: 20x11;837,220: 23x14;108,371: 18x11;641,795: 28x14;335,281: 16x21;59,876: 29x10;101,890: 10x20;535,341: 28x18;161,764: 28x16;565,498: 10x26;949,105: 19x15;940,624: 13x26;406,5: 22x15;724,968: 24x27;584,269: 27x12;594,289: 25x24;818,727: 14x17;833,603: 27x13;565,489: 19x27;315,332: 23x14;842,308: 13x19;400,80: 17x20;438,95: 29x20;804,889: 9x3;900,289: 18x14;14,830: 16x29;301,484: 24x19;336,212: 14x21;310,659: 16x23;208,592: 22x12;768,911: 13x29;320,300: 15x28;541,264: 25x16;893,198: 29x16;359,479: 12x12;659,91: 12x21;961,43: 24x25;881,429: 26x18;705,718: 20x21;469,835: 5x5;928,291: 23x17;632,342: 29x24;312,599: 12x26;715,395: 15x12;582,572: 13x10;699,645: 16x13;788,892: 13x10;278,84: 12x19;278,403: 5x4;753,174: 28x21;127,27: 24x28;606,286: 14x26;903,939: 13x15;332,122: 12x11;880,199: 15x19;531,471: 28x26;948,10: 27x25;16,604: 24x22;562,360: 13x29;682,910: 28x20;100,491: 17x10;128,20: 20x14;303,681: 22x12;397,641: 22x25;794,865: 18x28;875,936: 12x17;391,570: 14x24;77,284: 27x24;310,450: 10x24;910,635: 16x29;504,711: 11x27;344,163: 16x19;313,756: 11x26;864,716: 15x20;689,215: 23x10;766,435: 24x28;701,221: 12x18;914,773: 15x26;913,310: 19x10;983,305: 17x20;304,571: 11x29;578,573: 11x29;196,424: 22x13;275,539: 16x20;906,311: 10x22;802,886: 15x10;749,724: 27x29;82,311: 24x10;416,835: 15x18;814,718: 27x26;676,936: 29x19;419,17: 14x27;732,449: 28x21;709,771: 16x26;729,216: 14x20;243,67: 15x15;881,813: 21x27;324,361: 25x15;980,785: 11x16;250,418: 22x24;174,181: 27x23;551,934: 17x23;976,707: 18x17;538,426: 22x17;238,533: 14x10;873,117: 27x11;437,98: 10x16;692,575: 29x28;333,1: 18x10;299,198: 13x23;444,531: 15x20;917,209: 15x29;450,930: 25x12;959,493: 5x10;832,370: 14x28;699,670: 13x19;287,629: 28x18;295,900: 17x10;596,783: 29x26;313,704: 16x14;80,584: 17x24;636,863: 26x18;530,16: 24x12;303,618: 27x28;79,870: 28x26;77,692: 16x25;54,492: 23x22;985,714: 11x15;476,807: 16x10;82,377: 13x11;517,570: 15x16;386,580: 26x26;649,358: 22x18;780,113: 11x26;628,186: 22x21;229,805: 12x12;593,162: 16x14;875,969: 24x28;335,791: 18x28;389,648: 15x14;858,787: 11x14;392,47: 17x18;559,233: 14x20;890,441: 18x18;962,559: 22x20;31,690: 10x21;715,34: 24x16;12,117: 28x17;632,541: 15x10;700,898: 23x25;166,580: 18x17;25,922: 11x21;575,120: 16x11;434,746: 28x20;717,770: 11x29;576,681: 28x23;511,697: 14x16;216,536: 15x25;878,790: 18x18;834,22: 25x26;682,407: 12x12;415,124: 17x27;420,656: 12x18;381,616: 10x26;311,317: 23x23;958,546: 15x22;795,849: 16x20;259,65: 20x19;219,268: 24x20;710,595: 24x16;795,178: 19x18;561,805: 29x25;921,947: 24x26;158,577: 20x13;647,451: 28x14;856,59: 18x19;670,729: 22x15;208,114: 21x19;183,864: 18x11;131,735: 10x23;733,771: 10x11;684,627: 14x21;660,418: 16x17;865,27: 23x21;854,726: 20x17;532,778: 26x12;406,147: 12x20;294,898: 17x18;122,373: 15x16;698,265: 19x13;677,411: 25x18;156,779: 20x22;452,448: 15x17;476,751: 21x15;576,486: 16x17;833,616: 25x20;336,24: 16x23;146,778: 15x10;591,785: 26x17;824,181: 20x26;587,785: 12x19;847,247: 27x25;687,801: 10x26;915,155: 29x14;514,320: 11x24;930,668: 26x24;385,610: 11x25;527,570: 16x22;870,61: 22x13;866,18: 28x10;326,763: 15x29;384,929: 26x23;85,458: 23x26;229,936: 13x18;75,806: 25x21;819,504: 11x4;179,968: 17x24;915,262: 20x28;461,809: 24x16;488,321: 13x16;34,704: 18x11;229,320: 13x28;540,479: 17x22;282,515: 29x21;351,670: 13x17;452,726: 24x24;376,661: 13x13;710,313: 13x14;16,459: 20x22;551,322: 21x24;597,467: 16x10;229,802: 17x14;120,713: 21x27;15,148: 29x22;463,699: 10x16;295,442: 15x11;230,276: 12x12;60,748: 22x14;222,515: 29x22;420,584: 22x14;33,520: 11x28;105,453: 14x28;766,930: 11x18;306,680: 25x14;39,311: 25x17;7,674: 23x24;721,718: 10x18;486,722: 19x24;69,705: 28x18;371,165: 21x26;741,154: 29x22;84,673: 27x16;5,830: 24x26;44,946: 12x24;269,166: 23x15;576,56: 27x21;26,922: 26x21;87,677: 17x19;682,801: 17x11;379,561: 14x27;588,868: 29x19;239,260: 10x20;460,830: 18x15;619,458: 25x21;308,438: 26x28;683,95: 14x12;309,749: 12x10;57,464: 14x11;70,487: 13x18;187,487: 14x10;18,598: 11x19;966,746: 20x16;94,879: 11x20;699,122: 26x29;863,800: 18x21;55,601: 19x10;628,544: 13x25;357,390: 28x27;589,170: 13x12;94,530: 27x21;710,370: 11x13;617,580: 11x24;873,983: 17x15;383,634: 21x29;825,660: 21x27;347,375: 15x21;455,449: 18x25;724,354: 24x20;680,198: 21x29;572,387: 18x16;119,90: 20x13;546,31: 15x23;128,371: 20x26;268,137: 16x16;453,708: 21x16;209,167: 18x27;191,77: 20x28;812,452: 10x26;178,826: 21x19;257,919: 20x28;91,888: 26x20;8,343: 15x22;565,285: 21x22;554,192: 11x15;920,851: 12x18;956,406: 22x16;579,446: 24x14;210,231: 17x10;89,269: 11x28;935,391: 18x17;663,125: 12x29;870,317: 10x16;761,706: 25x15;294,601: 29x12;603,215: 13x16;271,519: 15x26;253,557: 28x13;845,536: 28x18;172,873: 13x10;393,414: 24x27;71,432: 14x11;45,326: 29x23;60,639: 17x15;426,458: 28x25;825,370: 20x14;32,105: 23x28;611,884: 22x27;122,251: 26x16;223,273: 27x17;157,778: 15x13;189,909: 13x17;872,888: 28x22;776,503: 16x20;238,158: 17x28;662,788: 29x20;65,835: 21x28;274,222: 12x23;586,558: 26x12;523,681: 14x10;842,566: 17x23;545,37: 12x13;798,824: 18x29;886,194: 26x12;745,370: 7x4;192,229: 10x13;772,962: 13x27;665,635: 22x19;920,191: 18x29;391,391: 14x17;201,915: 15x21;102,426: 8x4;149,207: 10x13;90,661: 10x16;353,74: 23x28;756,754: 11x25;573,322: 22x10;544,264: 28x27;296,5: 27x14;98,757: 15x16;422,646: 24x23;602,444: 21x16;284,536: 21x15;575,977: 18x22;850,58: 13x14;901,793: 15x28;805,151: 13x24;178,312: 24x29;395,51: 13x27;765,444: 10x28;48,945: 10x29;954,625: 26x14;716,730: 23x12;830,396: 14x28;669,425: 10x15;354,834: 20x14;311,322: 23x13;235,945: 17x26;401,236: 29x29;672,647: 24x11;558,982: 19x13;656,457: 11x4;222,873: 24x17;159,536: 17x10;184,104: 21x17;941,536: 14x13;137,54: 25x13;832,379: 25x28;645,900: 24x23;748,189: 24x13;560,187: 21x11;328,709: 23x11;511,377: 20x24;686,404: 16x24;53,321: 20x28;585,434: 16x13;168,600: 11x25;329,331: 29x12;334,521: 11x15;234,646: 13x18;588,795: 16x22;176,198: 18x16;525,573: 13x12;225,43: 10x10;923,159: 15x17;314,6: 29x13;647,848: 21x18;898,963: 27x21;518,532: 21x11;15,155: 14x21;201,822: 14x13;714,297: 23x16;350,148: 15x13;880,127: 23x16;491,387: 28x22;180,34: 13x20;366,622: 24x14;526,2: 23x17;522,647: 10x21;518,581: 12x17;761,698: 28x25;524,619: 25x21;411,285: 18x27;642,919: 22x19;291,219: 19x22;677,962: 24x27;936,534: 24x21;450,660: 29x19;181,21: 19x23;278,561: 24x15;528,414: 11x18;278,839: 19x22;20,38: 20x14;321,526: 19x17;558,905: 18x28;456,931: 23x28;610,727: 18x21;688,936: 25x29;332,528: 20x29;963,291: 22x21;567,701: 14x17;802,677: 26x15;589,428: 21x14;665,412: 22x29;290,285: 25x29;868,342: 10x25;334,738: 23x24;582,480: 20x16;368,800: 24x15;797,400: 28x13;715,556: 14x18;86,480: 28x29;57,457: 28x26;141,736: 22x17;668,401: 12x29;528,400: 13x12;369,40: 20x24;734,759: 27x26;389,583: 19x12;885,99: 26x21;10,871: 24x23;657,604: 23x26;830,178: 14x20;442,466: 14x11;537,314: 24x21;110,684: 13x24;807,914: 29x20;415,331: 26x14;66,622: 10x25;967,783: 15x28;54,307: 27x12;329,232: 10x10;41,725: 21x18;449,713: 26x17;850,610: 18x11;707,284: 26x21;639,936: 15x19;746,34: 21x29;491,192: 24x22;152,641: 11x21;213,873: 23x17;228,877: 21x22;840,490: 5x5;138,718: 23x27;844,957: 22x20;651,913: 26x21;173,129: 18x22;213,423: 15x13;710,592: 14x23;78,466: 29x26;743,464: 17x27;260,557: 11x12;183,393: 19x25;710,643: 18x28;927,642: 24x10;5,864: 22x10;667,916: 26x23;674,697: 13x23;525,751: 22x19;621,527: 29x24;643,955: 16x28;910,895: 16x19;955,603: 26x29;831,931: 14x17;652,361: 18x26;633,798: 18x28;198,492: 12x20;74,433: 15x16;530,460: 15x23;389,682: 28x27;979,632: 16x22;249,569: 25x19;829,607: 14x10;20,685: 16x27;390,646: 10x10;590,829: 11x7;607,268: 12x11;108,256: 16x10;157,775: 22x21;696,269: 28x28;879,370: 29x13;135,92: 27x14;534,545: 11x24;190,854: 15x20;831,105: 13x19;538,346: 20x27;665,642: 21x13;552,890: 18x19;170,867: 10x10;656,858: 15x22;882,55: 19x24;338,390: 20x29;961,81: 13x10;917,453: 28x25;838,546: 13x16;723,164: 22x15;329,197: 13x26;72,105: 22x19;736,303: 22x22;638,842: 24x13;872,879: 15x25;479,758: 23x29;154,322: 27x25;664,116: 29x14;42,129: 13x20;53,869: 13x24;141,84: 27x15;499,665: 22x13;661,98: 28x19;510,488: 13x15;235,305: 19x27;588,272: 22x11;921,625: 23x26;17,354: 12x13;169,468: 26x12;718,209: 16x23;476,591: 14x14;165,737: 27x23;952,796: 14x28;340,751: 10x12;967,629: 15x10;279,364: 12x14;168,299: 12x18;722,708: 29x22;382,380: 28x21;351,812: 20x14;535,864: 6x8;466,833: 18x12;377,691: 18x10;343,369: 14x19;780,445: 12x13;272,401: 17x19;207,615: 18x17;742,353: 29x25;764,107: 18x29;335,586: 21x24;367,104: 17x19;864,936: 26x26;186,399: 18x16;629,872: 11x17;686,800: 14x22;576,251: 15x21;830,127: 27x14;340,931: 18x13;84,450: 22x11;948,54: 27x14;657,801: 10x12;284,837: 13x28;827,755: 22x14;749,769: 14x28;544,601: 16x22;451,632: 14x19;752,959: 21x12;146,63: 16x18;395,199: 11x26;97,451: 12x22;357,672: 16x25;389,158: 13x14;591,487: 25x18;964,523: 26x11;333,242: 24x19;743,285: 16x26;852,976: 12x19;835,1: 23x27;442,464: 17x11;474,579: 21x26;376,292: 20x22;748,912: 12x11;393,616: 13x20;889,445: 26x23;107,799: 25x22;278,883: 20x19;921,621: 28x21;740,779: 10x20;48,473: 14x25;335,902: 20x19;95,58: 22x17;758,122: 28x28;706,375: 18x24;898,76: 21x10;233,931: 17x26;728,10: 29x17;725,244: 24x29;861,227: 26x12;318,681: 20x21;889,119: 13x10;92,248: 24x19;925,164: 26x21;514,493: 11x22;505,877: 14x24;166,538: 28x15;354,922: 14x21;879,809: 12x15;84,550: 17x11;164,838: 8x12;90,843: 16x16;45,28: 4x13;448,770: 28x25;939,531: 17x21;724,156: 11x23;414,785: 10x15;93,880: 10x14;968,309: 25x24;22,115: 18x25;767,539: 22x27;360,98: 20x27;453,919: 16x26;924,157: 25x11;434,453: 19x17;829,195: 29x26;503,908: 12x18;579,235: 12x15;963,329: 19x25;716,120: 17x25;323,814: 16x23;524,476: 25x12;955,805: 10x25;178,201: 3x4;69,217: 16x17;650,848: 25x10;162,642: 12x26;924,725: 12x12;79,598: 15x11;387,656: 23x14;601,124: 17x16;586,176: 25x23;246,658: 25x23;524,764: 13x15;631,562: 29x19;83,364: 14x17;107,373: 25x17;171,275: 21x21;368,954: 10x17;434,589: 10x12;421,288: 18x25;871,117: 25x28;494,541: 14x14;498,328: 12x23;217,32: 14x29;583,827: 25x12;8,465: 18x13;405,229: 23x14;216,862: 22x25;869,952: 25x20;341,146: 11x23;662,62: 23x19;861,650: 13x10;710,602: 11x27;849,337: 25x25;913,975: 11x22;855,82: 28x17;408,96: 16x12;608,98: 16x29;749,920: 28x20;57,463: 15x26;888,575: 12x11;717,601: 16x18;594,456: 23x28;920,775: 13x19;912,712: 28x11;102,729: 12x19;172,470: 16x7;456,488: 17x11;204,612: 12x21;388,628: 13x10;320,566: 18x28;572,734: 16x29;968,210: 17x19;219,579: 17x24;821,102: 29x27;715,863: 24x27;552,704: 21x13;877,415: 17x16;786,633: 28x29;847,931: 26x16;763,935: 27x17;641,662: 15x22;808,757: 26x22;134,496: 18x22;200,830: 11x11;789,808: 16x13;651,105: 20x20;153,732: 17x17;632,836: 29x29;111,832: 16x28;133,148: 13x13;662,390: 20x14;438,305: 14x20;360,480: 13x22;821,176: 14x28;969,737: 25x27;42,734: 28x28;339,945: 16x24;817,501: 17x11;754,973: 25x17;909,555: 16x18;516,535: 21x28;826,191: 29x27;313,95: 17x24;92,865: 19x22;212,592: 16x22;965,198: 21x15;604,742: 12x20;866,40: 12x12;308,267: 12x12;182,410: 19x14;78,474: 12x27;130,151: 22x24;354,64: 14x20;314,602: 16x23;860,27: 20x24;674,456: 11x24;697,790: 19x17;592,312: 27x27;670,919: 6x12;135,542: 17x13;273,519: 18x18;703,305: 10x27;502,528: 16x22;472,80: 29x16;284,611: 29x14;47,305: 13x16;949,7: 16x13;568,163: 25x22;787,234: 13x25;96,448: 23x20;657,571: 12x10;206,304: 29x16;55,799: 13x20;441,775: 11x22;446,90: 29x21;3,451: 23x17;716,257: 14x27;316,104: 12x18;321,115: 15x17;937,185: 12x16;241,68: 19x29;126,44: 15x17;53,701: 25x25;328,17: 14x10;849,619: 10x19;10,669: 23x15;205,522: 21x25;210,279: 10x28;170,11: 11x28;516,571: 27x19;96,267: 23x20;874,952: 22x14;376,604: 26x14;772,127: 10x22;58,666: 23x10;174,586: 16x21;189,442: 11x25;233,253: 28x21;271,157: 10x24;42,126: 25x23;380,773: 29x19;870,236: 20x18;21,692: 28x27;307,3: 29x16;514,532: 15x26;174,659: 16x25;831,618: 17x28;553,905: 19x21;582,571: 23x11;819,414: 26x12;307,571: 15x25;937,299: 21x19;416,15: 26x13;280,114: 17x10;669,715: 10x27;199,601: 26x26;523,332: 18x25;370,821: 24x20;482,532: 25x17;377,485: 3x15;390,918: 10x18;559,339: 20x11;659,969: 28x13;641,107: 13x16;798,887: 11x22;714,717: 25x18;920,161: 11x13;976,736: 19x12;316,868: 12x11;102,681: 27x11;363,954: 10x11;382,490: 25x21;717,579: 26x12;498,717: 16x15;47,954: 10x22;520,396: 20x25;33,19: 25x27;782,511: 18x14;342,755: 29x10;442,488: 25x12;785,552: 12x24;960,331: 11x20;194,832: 20x15;658,63: 13x21;245,947: 28x12;716,565: 17x29;399,63: 26x25;521,934: 21x21;854,71: 21x25;713,624: 27x27;849,545: 16x17;243,577: 12x22;496,899: 13x21;509,902: 27x12;530,524: 14x21;314,822: 27x16;767,282: 3x12;839,542: 19x10;959,517: 20x26;64,382: 21x13;575,9: 27x25;44,325: 22x17;187,261: 27x17;568,704: 13x11;535,749: 24x29;800,4: 25x13;248,607: 19x23;377,46: 19x12;785,15: 23x20;853,212: 27x15;279,831: 20x14;509,725: 17x13;549,927: 19x12;193,232: 10x12;740,373: 11x27;727,578: 26x10;11,711: 24x22;970,181: 13x12;161,551: 11x9;663,650: 20x12;0,743: 28x19;676,627: 16x12;641,716: 26x19;654,908: 29x10;200,105: 25x23;490,540: 11x28;152,658: 11x17;133,626: 10x22;968,316: 19x26;235,832: 22x27;335,11: 28x27;472,82: 14x24;551,297: 12x11;821,933: 14x10;948,953: 21x13;307,514: 14x14;299,947: 12x24;116,63: 20x23;928,166: 21x10;446,631: 10x16;326,592: 20x24;366,483: 27x23;306,292: 25x28;156,270: 25x23;198,335: 17x19;898,670: 29x22;624,521: 21x13;209,178: 20x21;190,33: 6x4;566,812: 13x14;102,835: 15x13;153,196: 11x22;153,670: 13x24;551,295: 23x27;132,475: 19x28;760,292: 28x24;766,755: 11x24;917,944: 11x25;736,765: 11x28;421,45: 23x24;351,323: 20x24;850,371: 17x13;520,955: 24x14;276,113: 17x11;616,27: 26x19;782,826: 14x10;526,471: 28x21;668,210: 19x27;930,732: 13x22;272,77: 19x15;359,24: 15x22;49,668: 26x22;629,465: 10x9;429,317: 24x28";
            string[] claims = origInput.Split(';');
            Dictionary<long, byte> coord = new Dictionary<long, byte>();
            Int32 result = 0;

            for (int i = 0; i < claims.Length; i++)
            {
                int left = Convert.ToInt32(claims[i].Substring(0, claims[i].IndexOf(',')));
                int top = Convert.ToInt32(claims[i].Substring(claims[i].IndexOf(',') + 1, claims[i].IndexOf(':') - (claims[i].IndexOf(',') + 1)));
                int width = Convert.ToInt32(claims[i].Substring(claims[i].IndexOf(' ') + 1, claims[i].IndexOf('x') - (claims[i].IndexOf(' ') + 1)));
                int height = Convert.ToInt32(claims[i].Substring(claims[i].IndexOf('x') + 1, claims[i].Length - (claims[i].IndexOf('x') + 1)));

                for (int g = left; g < left + width; g++)
                {
                    for (int v = top; v < top + height; v++)
                    {
                        long key = v * 10000 + g;
                        if (!coord.ContainsKey(key))
                        {
                            coord.Add(key, 0);
                        }
                        coord[key]++;
                    }
                }

            }

            foreach (var val in coord)
            {
                if (val.Value >= 2)
                {
                    result++;
                }
            }
            Console.WriteLine(result);
            Console.ReadKey();

        }

        public void Day3Task2()
        {
            string origInput = "871,327: 16x20;676,717: 27x26;245,818: 19x21;89,306: 22x11;451,712: 20x11;322,299: 24x29;161,304: 10x29;746,459: 19x25;720,21: 19x29;803,435: 22x20;437,394: 13x29;654,445: 22x25;723,721: 3x10;643,575: 13x28;706,265: 16x18;670,661: 21x21;168,664: 26x15;4,461: 19x29;771,73: 20x29;730,864: 24x12;373,371: 19x27;666,803: 23x17;944,277: 28x12;579,563: 25x13;318,469: 26x16;711,739: 29x19;80,902: 22x13;799,133: 11x25;783,235: 28x15;976,309: 14x23;154,301: 19x28;287,729: 15x26;145,39: 18x29;23,699: 21x18;320,199: 25x11;181,956: 18x27;969,84: 16x11;886,933: 23x16;155,76: 14x22;970,303: 17x14;929,942: 13x12;514,723: 28x11;97,725: 27x10;434,511: 22x23;235,150: 14x17;287,946: 18x18;554,504: 20x13;462,925: 21x10;322,311: 26x17;916,849: 17x13;14,740: 18x13;563,754: 20x18;832,184: 19x14;605,771: 20x25;945,191: 16x29;767,306: 23x11;308,299: 18x20;608,791: 10x27;962,408: 19x28;400,619: 21x12;648,908: 29x29;728,583: 22x19;838,488: 10x10;292,879: 25x20;372,155: 22x11;978,60: 16x25;329,578: 29x15;590,207: 19x26;694,268: 13x21;552,924: 19x18;525,96: 24x26;912,786: 10x25;177,43: 13x12;575,731: 27x19;470,713: 24x25;742,318: 18x26;509,560: 19x11;641,596: 28x25;862,935: 14x16;639,37: 16x24;162,900: 14x23;512,99: 25x17;572,413: 25x27;890,910: 26x29;869,418: 22x11;519,691: 29x28;138,646: 29x29;407,18: 29x17;185,755: 18x23;382,156: 16x13;140,469: 26x16;718,13: 27x12;711,785: 11x14;730,792: 25x13;0,40: 22x15;264,228: 20x24;861,256: 12x13;175,169: 20x15;725,583: 26x13;389,688: 26x18;593,790: 11x15;171,458: 28x21;531,355: 23x28;87,260: 20x15;79,114: 23x21;58,729: 12x13;242,599: 27x10;537,454: 13x25;201,508: 24x21;243,577: 16x19;402,606: 14x26;796,874: 29x11;726,388: 24x15;721,590: 18x24;243,147: 18x28;347,23: 21x21;666,432: 22x12;363,782: 24x21;577,763: 21x20;264,117: 16x23;23,547: 12x27;199,836: 20x22;892,901: 11x19;747,429: 20x23;204,605: 25x16;172,803: 15x11;195,784: 21x13;204,819: 24x25;619,582: 4x16;885,672: 12x18;186,761: 20x17;259,820: 26x20;226,21: 18x29;973,244: 24x22;884,704: 29x12;224,559: 25x24;599,566: 28x10;600,62: 20x23;34,526: 14x17;569,18: 15x20;70,212: 26x20;574,122: 27x22;789,610: 20x24;934,649: 25x14;862,658: 18x13;660,573: 3x5;793,801: 24x23;848,108: 14x22;278,124: 12x24;276,936: 19x10;946,399: 12x25;968,954: 29x17;188,832: 18x15;866,684: 27x21;297,332: 19x10;581,788: 15x17;744,168: 23x18;279,353: 29x16;388,327: 15x12;100,419: 13x15;114,825: 29x13;558,228: 22x10;350,917: 17x20;624,956: 29x12;702,752: 20x16;908,54: 16x25;110,905: 20x22;46,603: 23x18;396,211: 13x27;188,47: 25x25;411,958: 10x13;705,12: 16x23;876,778: 12x16;784,818: 11x23;298,266: 17x10;958,195: 16x23;411,779: 17x23;442,307: 5x15;320,514: 29x17;330,320: 21x16;702,11: 22x23;363,285: 26x21;357,148: 26x18;640,578: 13x28;769,511: 21x11;958,180: 15x28;401,309: 13x19;163,771: 25x25;537,364: 23x13;747,456: 23x10;907,462: 12x16;200,239: 19x27;324,86: 12x19;644,181: 15x17;917,910: 10x25;61,710: 17x29;552,276: 16x21;714,559: 23x22;360,797: 26x13;790,96: 13x23;231,395: 28x24;974,249: 10x16;162,828: 15x29;410,668: 29x26;13,565: 19x26;761,908: 20x20;10,667: 15x21;956,735: 22x27;49,964: 28x28;957,46: 24x20;757,739: 11x21;429,584: 13x20;882,968: 17x22;22,307: 22x19;113,251: 13x24;335,3: 10x27;778,964: 13x20;886,205: 19x29;312,844: 10x29;173,801: 10x20;192,784: 17x13;818,393: 18x12;638,331: 23x19;723,970: 14x29;908,911: 19x19;870,372: 11x15;659,860: 5x17;572,112: 25x21;911,686: 18x16;356,730: 14x11;682,122: 28x22;202,314: 13x29;38,345: 10x11;530,954: 28x29;865,933: 28x28;79,389: 16x15;576,734: 17x11;497,394: 17x14;196,595: 16x18;470,669: 12x18;303,641: 29x15;157,546: 27x27;484,663: 20x23;348,242: 20x21;214,38: 23x23;761,280: 13x17;508,185: 12x16;35,682: 18x23;783,489: 19x27;44,117: 13x10;161,888: 17x28;64,726: 12x12;645,600: 24x15;380,481: 24x23;714,577: 15x24;966,107: 28x20;687,650: 13x12;253,179: 25x18;53,712: 29x17;133,545: 20x29;591,788: 18x27;534,531: 10x24;298,562: 27x13;920,933: 25x10;201,231: 13x21;108,467: 23x18;185,387: 26x20;184,840: 20x15;419,579: 23x15;29,317: 25x26;251,52: 19x16;802,179: 29x18;806,942: 21x11;106,738: 25x20;585,436: 26x23;130,547: 18x11;730,154: 18x24;413,947: 10x20;264,750: 27x21;581,237: 3x9;725,300: 24x10;295,93: 23x24;610,761: 17x19;425,402: 14x14;415,817: 17x20;840,294: 12x17;51,811: 26x11;519,950: 12x25;123,771: 24x29;957,490: 11x17;73,787: 15x28;483,820: 11x18;634,665: 14x17;141,553: 16x17;512,685: 15x25;648,741: 27x20;942,537: 12x14;946,659: 26x13;239,537: 20x24;143,504: 13x20;348,954: 26x12;309,110: 23x11;896,578: 29x13;678,687: 20x26;598,720: 12x28;893,418: 10x28;651,378: 24x26;495,342: 24x10;455,80: 18x22;668,87: 15x26;24,60: 19x22;645,728: 15x12;80,681: 27x22;533,859: 11x23;66,836: 16x15;282,606: 23x28;521,655: 14x18;924,546: 14x26;739,770: 29x10;37,78: 23x10;715,122: 26x10;11,583: 15x19;596,92: 17x27;893,211: 28x12;485,395: 11x23;960,283: 26x18;290,446: 12x16;700,764: 18x10;41,328: 17x10;716,169: 13x11;357,806: 21x18;736,20: 12x19;903,918: 12x11;27,527: 20x21;876,129: 14x11;829,561: 28x15;189,133: 20x11;837,220: 23x14;108,371: 18x11;641,795: 28x14;335,281: 16x21;59,876: 29x10;101,890: 10x20;535,341: 28x18;161,764: 28x16;565,498: 10x26;949,105: 19x15;940,624: 13x26;406,5: 22x15;724,968: 24x27;584,269: 27x12;594,289: 25x24;818,727: 14x17;833,603: 27x13;565,489: 19x27;315,332: 23x14;842,308: 13x19;400,80: 17x20;438,95: 29x20;804,889: 9x3;900,289: 18x14;14,830: 16x29;301,484: 24x19;336,212: 14x21;310,659: 16x23;208,592: 22x12;768,911: 13x29;320,300: 15x28;541,264: 25x16;893,198: 29x16;359,479: 12x12;659,91: 12x21;961,43: 24x25;881,429: 26x18;705,718: 20x21;469,835: 5x5;928,291: 23x17;632,342: 29x24;312,599: 12x26;715,395: 15x12;582,572: 13x10;699,645: 16x13;788,892: 13x10;278,84: 12x19;278,403: 5x4;753,174: 28x21;127,27: 24x28;606,286: 14x26;903,939: 13x15;332,122: 12x11;880,199: 15x19;531,471: 28x26;948,10: 27x25;16,604: 24x22;562,360: 13x29;682,910: 28x20;100,491: 17x10;128,20: 20x14;303,681: 22x12;397,641: 22x25;794,865: 18x28;875,936: 12x17;391,570: 14x24;77,284: 27x24;310,450: 10x24;910,635: 16x29;504,711: 11x27;344,163: 16x19;313,756: 11x26;864,716: 15x20;689,215: 23x10;766,435: 24x28;701,221: 12x18;914,773: 15x26;913,310: 19x10;983,305: 17x20;304,571: 11x29;578,573: 11x29;196,424: 22x13;275,539: 16x20;906,311: 10x22;802,886: 15x10;749,724: 27x29;82,311: 24x10;416,835: 15x18;814,718: 27x26;676,936: 29x19;419,17: 14x27;732,449: 28x21;709,771: 16x26;729,216: 14x20;243,67: 15x15;881,813: 21x27;324,361: 25x15;980,785: 11x16;250,418: 22x24;174,181: 27x23;551,934: 17x23;976,707: 18x17;538,426: 22x17;238,533: 14x10;873,117: 27x11;437,98: 10x16;692,575: 29x28;333,1: 18x10;299,198: 13x23;444,531: 15x20;917,209: 15x29;450,930: 25x12;959,493: 5x10;832,370: 14x28;699,670: 13x19;287,629: 28x18;295,900: 17x10;596,783: 29x26;313,704: 16x14;80,584: 17x24;636,863: 26x18;530,16: 24x12;303,618: 27x28;79,870: 28x26;77,692: 16x25;54,492: 23x22;985,714: 11x15;476,807: 16x10;82,377: 13x11;517,570: 15x16;386,580: 26x26;649,358: 22x18;780,113: 11x26;628,186: 22x21;229,805: 12x12;593,162: 16x14;875,969: 24x28;335,791: 18x28;389,648: 15x14;858,787: 11x14;392,47: 17x18;559,233: 14x20;890,441: 18x18;962,559: 22x20;31,690: 10x21;715,34: 24x16;12,117: 28x17;632,541: 15x10;700,898: 23x25;166,580: 18x17;25,922: 11x21;575,120: 16x11;434,746: 28x20;717,770: 11x29;576,681: 28x23;511,697: 14x16;216,536: 15x25;878,790: 18x18;834,22: 25x26;682,407: 12x12;415,124: 17x27;420,656: 12x18;381,616: 10x26;311,317: 23x23;958,546: 15x22;795,849: 16x20;259,65: 20x19;219,268: 24x20;710,595: 24x16;795,178: 19x18;561,805: 29x25;921,947: 24x26;158,577: 20x13;647,451: 28x14;856,59: 18x19;670,729: 22x15;208,114: 21x19;183,864: 18x11;131,735: 10x23;733,771: 10x11;684,627: 14x21;660,418: 16x17;865,27: 23x21;854,726: 20x17;532,778: 26x12;406,147: 12x20;294,898: 17x18;122,373: 15x16;698,265: 19x13;677,411: 25x18;156,779: 20x22;452,448: 15x17;476,751: 21x15;576,486: 16x17;833,616: 25x20;336,24: 16x23;146,778: 15x10;591,785: 26x17;824,181: 20x26;587,785: 12x19;847,247: 27x25;687,801: 10x26;915,155: 29x14;514,320: 11x24;930,668: 26x24;385,610: 11x25;527,570: 16x22;870,61: 22x13;866,18: 28x10;326,763: 15x29;384,929: 26x23;85,458: 23x26;229,936: 13x18;75,806: 25x21;819,504: 11x4;179,968: 17x24;915,262: 20x28;461,809: 24x16;488,321: 13x16;34,704: 18x11;229,320: 13x28;540,479: 17x22;282,515: 29x21;351,670: 13x17;452,726: 24x24;376,661: 13x13;710,313: 13x14;16,459: 20x22;551,322: 21x24;597,467: 16x10;229,802: 17x14;120,713: 21x27;15,148: 29x22;463,699: 10x16;295,442: 15x11;230,276: 12x12;60,748: 22x14;222,515: 29x22;420,584: 22x14;33,520: 11x28;105,453: 14x28;766,930: 11x18;306,680: 25x14;39,311: 25x17;7,674: 23x24;721,718: 10x18;486,722: 19x24;69,705: 28x18;371,165: 21x26;741,154: 29x22;84,673: 27x16;5,830: 24x26;44,946: 12x24;269,166: 23x15;576,56: 27x21;26,922: 26x21;87,677: 17x19;682,801: 17x11;379,561: 14x27;588,868: 29x19;239,260: 10x20;460,830: 18x15;619,458: 25x21;308,438: 26x28;683,95: 14x12;309,749: 12x10;57,464: 14x11;70,487: 13x18;187,487: 14x10;18,598: 11x19;966,746: 20x16;94,879: 11x20;699,122: 26x29;863,800: 18x21;55,601: 19x10;628,544: 13x25;357,390: 28x27;589,170: 13x12;94,530: 27x21;710,370: 11x13;617,580: 11x24;873,983: 17x15;383,634: 21x29;825,660: 21x27;347,375: 15x21;455,449: 18x25;724,354: 24x20;680,198: 21x29;572,387: 18x16;119,90: 20x13;546,31: 15x23;128,371: 20x26;268,137: 16x16;453,708: 21x16;209,167: 18x27;191,77: 20x28;812,452: 10x26;178,826: 21x19;257,919: 20x28;91,888: 26x20;8,343: 15x22;565,285: 21x22;554,192: 11x15;920,851: 12x18;956,406: 22x16;579,446: 24x14;210,231: 17x10;89,269: 11x28;935,391: 18x17;663,125: 12x29;870,317: 10x16;761,706: 25x15;294,601: 29x12;603,215: 13x16;271,519: 15x26;253,557: 28x13;845,536: 28x18;172,873: 13x10;393,414: 24x27;71,432: 14x11;45,326: 29x23;60,639: 17x15;426,458: 28x25;825,370: 20x14;32,105: 23x28;611,884: 22x27;122,251: 26x16;223,273: 27x17;157,778: 15x13;189,909: 13x17;872,888: 28x22;776,503: 16x20;238,158: 17x28;662,788: 29x20;65,835: 21x28;274,222: 12x23;586,558: 26x12;523,681: 14x10;842,566: 17x23;545,37: 12x13;798,824: 18x29;886,194: 26x12;745,370: 7x4;192,229: 10x13;772,962: 13x27;665,635: 22x19;920,191: 18x29;391,391: 14x17;201,915: 15x21;102,426: 8x4;149,207: 10x13;90,661: 10x16;353,74: 23x28;756,754: 11x25;573,322: 22x10;544,264: 28x27;296,5: 27x14;98,757: 15x16;422,646: 24x23;602,444: 21x16;284,536: 21x15;575,977: 18x22;850,58: 13x14;901,793: 15x28;805,151: 13x24;178,312: 24x29;395,51: 13x27;765,444: 10x28;48,945: 10x29;954,625: 26x14;716,730: 23x12;830,396: 14x28;669,425: 10x15;354,834: 20x14;311,322: 23x13;235,945: 17x26;401,236: 29x29;672,647: 24x11;558,982: 19x13;656,457: 11x4;222,873: 24x17;159,536: 17x10;184,104: 21x17;941,536: 14x13;137,54: 25x13;832,379: 25x28;645,900: 24x23;748,189: 24x13;560,187: 21x11;328,709: 23x11;511,377: 20x24;686,404: 16x24;53,321: 20x28;585,434: 16x13;168,600: 11x25;329,331: 29x12;334,521: 11x15;234,646: 13x18;588,795: 16x22;176,198: 18x16;525,573: 13x12;225,43: 10x10;923,159: 15x17;314,6: 29x13;647,848: 21x18;898,963: 27x21;518,532: 21x11;15,155: 14x21;201,822: 14x13;714,297: 23x16;350,148: 15x13;880,127: 23x16;491,387: 28x22;180,34: 13x20;366,622: 24x14;526,2: 23x17;522,647: 10x21;518,581: 12x17;761,698: 28x25;524,619: 25x21;411,285: 18x27;642,919: 22x19;291,219: 19x22;677,962: 24x27;936,534: 24x21;450,660: 29x19;181,21: 19x23;278,561: 24x15;528,414: 11x18;278,839: 19x22;20,38: 20x14;321,526: 19x17;558,905: 18x28;456,931: 23x28;610,727: 18x21;688,936: 25x29;332,528: 20x29;963,291: 22x21;567,701: 14x17;802,677: 26x15;589,428: 21x14;665,412: 22x29;290,285: 25x29;868,342: 10x25;334,738: 23x24;582,480: 20x16;368,800: 24x15;797,400: 28x13;715,556: 14x18;86,480: 28x29;57,457: 28x26;141,736: 22x17;668,401: 12x29;528,400: 13x12;369,40: 20x24;734,759: 27x26;389,583: 19x12;885,99: 26x21;10,871: 24x23;657,604: 23x26;830,178: 14x20;442,466: 14x11;537,314: 24x21;110,684: 13x24;807,914: 29x20;415,331: 26x14;66,622: 10x25;967,783: 15x28;54,307: 27x12;329,232: 10x10;41,725: 21x18;449,713: 26x17;850,610: 18x11;707,284: 26x21;639,936: 15x19;746,34: 21x29;491,192: 24x22;152,641: 11x21;213,873: 23x17;228,877: 21x22;840,490: 5x5;138,718: 23x27;844,957: 22x20;651,913: 26x21;173,129: 18x22;213,423: 15x13;710,592: 14x23;78,466: 29x26;743,464: 17x27;260,557: 11x12;183,393: 19x25;710,643: 18x28;927,642: 24x10;5,864: 22x10;667,916: 26x23;674,697: 13x23;525,751: 22x19;621,527: 29x24;643,955: 16x28;910,895: 16x19;955,603: 26x29;831,931: 14x17;652,361: 18x26;633,798: 18x28;198,492: 12x20;74,433: 15x16;530,460: 15x23;389,682: 28x27;979,632: 16x22;249,569: 25x19;829,607: 14x10;20,685: 16x27;390,646: 10x10;590,829: 11x7;607,268: 12x11;108,256: 16x10;157,775: 22x21;696,269: 28x28;879,370: 29x13;135,92: 27x14;534,545: 11x24;190,854: 15x20;831,105: 13x19;538,346: 20x27;665,642: 21x13;552,890: 18x19;170,867: 10x10;656,858: 15x22;882,55: 19x24;338,390: 20x29;961,81: 13x10;917,453: 28x25;838,546: 13x16;723,164: 22x15;329,197: 13x26;72,105: 22x19;736,303: 22x22;638,842: 24x13;872,879: 15x25;479,758: 23x29;154,322: 27x25;664,116: 29x14;42,129: 13x20;53,869: 13x24;141,84: 27x15;499,665: 22x13;661,98: 28x19;510,488: 13x15;235,305: 19x27;588,272: 22x11;921,625: 23x26;17,354: 12x13;169,468: 26x12;718,209: 16x23;476,591: 14x14;165,737: 27x23;952,796: 14x28;340,751: 10x12;967,629: 15x10;279,364: 12x14;168,299: 12x18;722,708: 29x22;382,380: 28x21;351,812: 20x14;535,864: 6x8;466,833: 18x12;377,691: 18x10;343,369: 14x19;780,445: 12x13;272,401: 17x19;207,615: 18x17;742,353: 29x25;764,107: 18x29;335,586: 21x24;367,104: 17x19;864,936: 26x26;186,399: 18x16;629,872: 11x17;686,800: 14x22;576,251: 15x21;830,127: 27x14;340,931: 18x13;84,450: 22x11;948,54: 27x14;657,801: 10x12;284,837: 13x28;827,755: 22x14;749,769: 14x28;544,601: 16x22;451,632: 14x19;752,959: 21x12;146,63: 16x18;395,199: 11x26;97,451: 12x22;357,672: 16x25;389,158: 13x14;591,487: 25x18;964,523: 26x11;333,242: 24x19;743,285: 16x26;852,976: 12x19;835,1: 23x27;442,464: 17x11;474,579: 21x26;376,292: 20x22;748,912: 12x11;393,616: 13x20;889,445: 26x23;107,799: 25x22;278,883: 20x19;921,621: 28x21;740,779: 10x20;48,473: 14x25;335,902: 20x19;95,58: 22x17;758,122: 28x28;706,375: 18x24;898,76: 21x10;233,931: 17x26;728,10: 29x17;725,244: 24x29;861,227: 26x12;318,681: 20x21;889,119: 13x10;92,248: 24x19;925,164: 26x21;514,493: 11x22;505,877: 14x24;166,538: 28x15;354,922: 14x21;879,809: 12x15;84,550: 17x11;164,838: 8x12;90,843: 16x16;45,28: 4x13;448,770: 28x25;939,531: 17x21;724,156: 11x23;414,785: 10x15;93,880: 10x14;968,309: 25x24;22,115: 18x25;767,539: 22x27;360,98: 20x27;453,919: 16x26;924,157: 25x11;434,453: 19x17;829,195: 29x26;503,908: 12x18;579,235: 12x15;963,329: 19x25;716,120: 17x25;323,814: 16x23;524,476: 25x12;955,805: 10x25;178,201: 3x4;69,217: 16x17;650,848: 25x10;162,642: 12x26;924,725: 12x12;79,598: 15x11;387,656: 23x14;601,124: 17x16;586,176: 25x23;246,658: 25x23;524,764: 13x15;631,562: 29x19;83,364: 14x17;107,373: 25x17;171,275: 21x21;368,954: 10x17;434,589: 10x12;421,288: 18x25;871,117: 25x28;494,541: 14x14;498,328: 12x23;217,32: 14x29;583,827: 25x12;8,465: 18x13;405,229: 23x14;216,862: 22x25;869,952: 25x20;341,146: 11x23;662,62: 23x19;861,650: 13x10;710,602: 11x27;849,337: 25x25;913,975: 11x22;855,82: 28x17;408,96: 16x12;608,98: 16x29;749,920: 28x20;57,463: 15x26;888,575: 12x11;717,601: 16x18;594,456: 23x28;920,775: 13x19;912,712: 28x11;102,729: 12x19;172,470: 16x7;456,488: 17x11;204,612: 12x21;388,628: 13x10;320,566: 18x28;572,734: 16x29;968,210: 17x19;219,579: 17x24;821,102: 29x27;715,863: 24x27;552,704: 21x13;877,415: 17x16;786,633: 28x29;847,931: 26x16;763,935: 27x17;641,662: 15x22;808,757: 26x22;134,496: 18x22;200,830: 11x11;789,808: 16x13;651,105: 20x20;153,732: 17x17;632,836: 29x29;111,832: 16x28;133,148: 13x13;662,390: 20x14;438,305: 14x20;360,480: 13x22;821,176: 14x28;969,737: 25x27;42,734: 28x28;339,945: 16x24;817,501: 17x11;754,973: 25x17;909,555: 16x18;516,535: 21x28;826,191: 29x27;313,95: 17x24;92,865: 19x22;212,592: 16x22;965,198: 21x15;604,742: 12x20;866,40: 12x12;308,267: 12x12;182,410: 19x14;78,474: 12x27;130,151: 22x24;354,64: 14x20;314,602: 16x23;860,27: 20x24;674,456: 11x24;697,790: 19x17;592,312: 27x27;670,919: 6x12;135,542: 17x13;273,519: 18x18;703,305: 10x27;502,528: 16x22;472,80: 29x16;284,611: 29x14;47,305: 13x16;949,7: 16x13;568,163: 25x22;787,234: 13x25;96,448: 23x20;657,571: 12x10;206,304: 29x16;55,799: 13x20;441,775: 11x22;446,90: 29x21;3,451: 23x17;716,257: 14x27;316,104: 12x18;321,115: 15x17;937,185: 12x16;241,68: 19x29;126,44: 15x17;53,701: 25x25;328,17: 14x10;849,619: 10x19;10,669: 23x15;205,522: 21x25;210,279: 10x28;170,11: 11x28;516,571: 27x19;96,267: 23x20;874,952: 22x14;376,604: 26x14;772,127: 10x22;58,666: 23x10;174,586: 16x21;189,442: 11x25;233,253: 28x21;271,157: 10x24;42,126: 25x23;380,773: 29x19;870,236: 20x18;21,692: 28x27;307,3: 29x16;514,532: 15x26;174,659: 16x25;831,618: 17x28;553,905: 19x21;582,571: 23x11;819,414: 26x12;307,571: 15x25;937,299: 21x19;416,15: 26x13;280,114: 17x10;669,715: 10x27;199,601: 26x26;523,332: 18x25;370,821: 24x20;482,532: 25x17;377,485: 3x15;390,918: 10x18;559,339: 20x11;659,969: 28x13;641,107: 13x16;798,887: 11x22;714,717: 25x18;920,161: 11x13;976,736: 19x12;316,868: 12x11;102,681: 27x11;363,954: 10x11;382,490: 25x21;717,579: 26x12;498,717: 16x15;47,954: 10x22;520,396: 20x25;33,19: 25x27;782,511: 18x14;342,755: 29x10;442,488: 25x12;785,552: 12x24;960,331: 11x20;194,832: 20x15;658,63: 13x21;245,947: 28x12;716,565: 17x29;399,63: 26x25;521,934: 21x21;854,71: 21x25;713,624: 27x27;849,545: 16x17;243,577: 12x22;496,899: 13x21;509,902: 27x12;530,524: 14x21;314,822: 27x16;767,282: 3x12;839,542: 19x10;959,517: 20x26;64,382: 21x13;575,9: 27x25;44,325: 22x17;187,261: 27x17;568,704: 13x11;535,749: 24x29;800,4: 25x13;248,607: 19x23;377,46: 19x12;785,15: 23x20;853,212: 27x15;279,831: 20x14;509,725: 17x13;549,927: 19x12;193,232: 10x12;740,373: 11x27;727,578: 26x10;11,711: 24x22;970,181: 13x12;161,551: 11x9;663,650: 20x12;0,743: 28x19;676,627: 16x12;641,716: 26x19;654,908: 29x10;200,105: 25x23;490,540: 11x28;152,658: 11x17;133,626: 10x22;968,316: 19x26;235,832: 22x27;335,11: 28x27;472,82: 14x24;551,297: 12x11;821,933: 14x10;948,953: 21x13;307,514: 14x14;299,947: 12x24;116,63: 20x23;928,166: 21x10;446,631: 10x16;326,592: 20x24;366,483: 27x23;306,292: 25x28;156,270: 25x23;198,335: 17x19;898,670: 29x22;624,521: 21x13;209,178: 20x21;190,33: 6x4;566,812: 13x14;102,835: 15x13;153,196: 11x22;153,670: 13x24;551,295: 23x27;132,475: 19x28;760,292: 28x24;766,755: 11x24;917,944: 11x25;736,765: 11x28;421,45: 23x24;351,323: 20x24;850,371: 17x13;520,955: 24x14;276,113: 17x11;616,27: 26x19;782,826: 14x10;526,471: 28x21;668,210: 19x27;930,732: 13x22;272,77: 19x15;359,24: 15x22;49,668: 26x22;629,465: 10x9;429,317: 24x28";
            string[] claims = origInput.Split(';');
            Dictionary<int, Dictionary<int, int>> dots = new Dictionary<int, Dictionary<int, int>>();
            Int32 result = 0;
            int claim = 0;

            for (int i = 0; i < claims.Length; i++)
            {
                int left = Convert.ToInt32(claims[i].Substring(0, claims[i].IndexOf(',')));
                int top = Convert.ToInt32(claims[i].Substring(claims[i].IndexOf(',') + 1, claims[i].IndexOf(':') - (claims[i].IndexOf(',') + 1)));
                int width = Convert.ToInt32(claims[i].Substring(claims[i].IndexOf(' ') + 1, claims[i].IndexOf('x') - (claims[i].IndexOf(' ') + 1)));
                int height = Convert.ToInt32(claims[i].Substring(claims[i].IndexOf('x') + 1, claims[i].Length - (claims[i].IndexOf('x') + 1)));
                for (int g = left; g < left + width; g++)
                {
                    for (int v = top; v < top + height; v++)
                    {
                        if (!dots.TryGetValue(g, out var gridDictY))
                        {
                            gridDictY = new Dictionary<int, int>();
                            dots[g] = gridDictY;
                        }

                        if (!gridDictY.TryGetValue(v, out var gridAtLocation))
                        {
                            gridAtLocation = 0;
                        }

                        ++gridAtLocation;
                        gridDictY[v] = gridAtLocation;
                    }
                }

            }

            for (int i = 0; i < claims.Length; i++)
            {
                claim = i + 1;
                int left = Convert.ToInt32(claims[i].Substring(0, claims[i].IndexOf(',')));
                int top = Convert.ToInt32(claims[i].Substring(claims[i].IndexOf(',') + 1, claims[i].IndexOf(':') - (claims[i].IndexOf(',') + 1)));
                int width = Convert.ToInt32(claims[i].Substring(claims[i].IndexOf(' ') + 1, claims[i].IndexOf('x') - (claims[i].IndexOf(' ') + 1)));
                int height = Convert.ToInt32(claims[i].Substring(claims[i].IndexOf('x') + 1, claims[i].Length - (claims[i].IndexOf('x') + 1)));
                bool isCandidate = true;

                for (int g = left; g < left + width; g++)
                {
                    for (int v = top; v < top + height; v++)
                    {
                        if (dots.TryGetValue(g, out var gridDictY))
                        {
                            if (gridDictY.TryGetValue(v, out var gridAtLocation))
                            {
                                if (gridAtLocation > 1)
                                {
                                    isCandidate = false;
                                    break;
                                }
                            }
                        }
                    }
                }

                if (isCandidate)
                {
                    result = claim;
                }
            }

            Console.WriteLine(result);
            Console.ReadKey();

        }
    }
}
